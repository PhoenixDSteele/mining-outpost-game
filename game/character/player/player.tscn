[gd_scene load_steps=9 format=3 uid="uid://dfqcqf6cw5gkp"]

[ext_resource type="PackedScene" uid="uid://r0rsvd7xkcoh" path="res://game/character/body_base.tscn" id="1_heyne"]
[ext_resource type="PackedScene" uid="uid://dxqb4j2pu7rge" path="res://assets/models/characters/player/tom.glb" id="2_jibyx"]
[ext_resource type="Script" path="res://game/character/components/states/common/idle.gd" id="3_3npd5"]
[ext_resource type="Script" path="res://game/character/components/states/common/movement.gd" id="4_gfeqp"]
[ext_resource type="Script" path="res://game/character/components/states/common/fall.gd" id="5_gjswa"]
[ext_resource type="Script" path="res://game/character/components/states/common/jump.gd" id="6_vlmxj"]
[ext_resource type="Script" path="res://game/character/components/states/common/ledgehang.gd" id="7_ysduw"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_0t56c"]
radius = 0.3

[node name="Player" node_paths=PackedStringArray("anim_player") instance=ExtResource("1_heyne")]
collision_layer = 2
anim_player = NodePath("Visual/tom/AnimationPlayer")
controller_Type = 0

[node name="Visual" parent="." index="0"]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 0, 0)

[node name="tom" parent="Visual" index="0" instance=ExtResource("2_jibyx")]

[node name="Skeleton3D" parent="Visual/tom/Armature" index="0"]
bones/0/position = Vector3(98.1644, 41.5872, -170.018)
bones/0/rotation = Quaternion(-0.00698994, 0.795955, -0.604535, 0.0307417)
bones/1/position = Vector3(1.31596e-06, 9.2263, 1.57709)
bones/1/rotation = Quaternion(0.0322519, 0.00839359, -0.00044012, 0.999444)
bones/2/position = Vector3(5.75556e-06, 16.2549, 6.42013e-06)
bones/2/rotation = Quaternion(0.0324706, 0.0179693, 0.0107712, 0.999253)
bones/3/position = Vector3(1.57036e-06, 13.7007, 6.38947e-06)
bones/3/rotation = Quaternion(-0.0301523, 0.0161988, 0.0132857, 0.999326)
bones/4/position = Vector3(9.12284e-06, 14.5444, -5.68697e-06)
bones/4/rotation = Quaternion(0.240915, -0.0307194, 0.0145044, 0.969952)
bones/5/position = Vector3(8.72156e-06, 4.43786, 2.27356e-07)
bones/5/rotation = Quaternion(-0.382762, -0.126197, -0.0598889, 0.913226)
bones/6/position = Vector3(-5.96046e-08, 21.7493, 2.14577e-06)
bones/7/position = Vector3(6.1442, 10.8554, -0.569524)
bones/7/rotation = Quaternion(0.516187, 0.620786, -0.430242, 0.403816)
bones/8/position = Vector3(-2.12318e-05, 12.4986, 1.31078e-05)
bones/8/rotation = Quaternion(0.181452, -0.291055, 0.611621, 0.712939)
bones/9/position = Vector3(-4.85807e-06, 27.687, -1.6218e-05)
bones/9/rotation = Quaternion(0.0131595, 0.0432657, 0.511173, 0.858287)
bones/10/position = Vector3(1.14893e-05, 27.8738, 2.72437e-05)
bones/10/rotation = Quaternion(0.028872, 0.116209, -0.11727, 0.985855)
bones/11/position = Vector3(-1.87649, 2.28439, 1.20809)
bones/11/rotation = Quaternion(0.405414, 0.224171, 0.173674, 0.869036)
bones/12/position = Vector3(-6.10645e-06, 4.94881, 3.78986e-06)
bones/12/rotation = Quaternion(-0.0734507, -0.0506718, -0.062256, 0.994063)
bones/13/position = Vector3(7.33136e-06, 5.17871, 1.19396e-05)
bones/13/rotation = Quaternion(-7.97031e-07, 5.71727e-08, 3.12924e-07, 1)
bones/14/position = Vector3(1.34715e-05, 2.70566, 3.29046e-06)
bones/15/position = Vector3(-2.26484, 10.5148, 0.231347)
bones/15/rotation = Quaternion(0.312439, -0.0554844, -0.0310018, 0.947809)
bones/16/position = Vector3(4.20821e-06, 5.5493, 9.01245e-07)
bones/16/rotation = Quaternion(0.520877, 0.00055373, -0.00903846, 0.853583)
bones/17/position = Vector3(-5.19386e-06, 3.3911, -1.60401e-06)
bones/17/rotation = Quaternion(4.65662e-09, 7.87041e-08, 7.63758e-08, 1)
bones/18/position = Vector3(-4.55907e-06, 2.33439, 8.71527e-06)
bones/19/position = Vector3(-4.62065e-06, 10.4907, 2.93903e-06)
bones/19/rotation = Quaternion(0.386068, -0.0208638, 0.0151239, 0.92211)
bones/20/position = Vector3(7.48736e-07, 5.7921, -7.91053e-06)
bones/20/rotation = Quaternion(0.559249, -7.50362e-05, 0.0458099, 0.827733)
bones/21/position = Vector3(-9.1967e-06, 3.71317, 4.14664e-06)
bones/21/rotation = Quaternion(-4.82321e-06, 2.568e-07, 2.34681e-07, 1)
bones/22/position = Vector3(-1.53512e-05, 2.75207, 1.40245e-05)
bones/23/position = Vector3(2.31415, 10.2407, 0.0460274)
bones/23/rotation = Quaternion(0.40892, -0.0191677, 0.0143005, 0.912257)
bones/24/position = Vector3(-2.82376e-06, 5.44518, -4.86745e-06)
bones/24/rotation = Quaternion(0.605525, 5.62998e-05, 0.0515096, 0.794157)
bones/25/position = Vector3(-1.64185e-05, 3.71321, 2.54481e-06)
bones/25/rotation = Quaternion(6.05623e-09, 1.80011e-07, 2.69418e-07, 1)
bones/26/position = Vector3(-8.55477e-06, 2.28072, 9.57837e-06)
bones/27/position = Vector3(4.41846, 9.82026, 0.209727)
bones/27/rotation = Quaternion(0.283455, -0.00297403, -0.0802516, 0.955617)
bones/28/position = Vector3(-2.71494e-06, 3.6763, -2.93895e-06)
bones/28/rotation = Quaternion(0.401885, 5.02102e-05, 0.0471199, 0.914477)
bones/29/position = Vector3(-5.86659e-06, 2.81129, 7.34085e-06)
bones/29/rotation = Quaternion(-3.09575e-13, 4.13427e-07, 4.10633e-07, 1)
bones/30/position = Vector3(-6.13111e-06, 1.65955, 8.78061e-06)
bones/31/position = Vector3(-6.14017, 10.8554, -0.569523)
bones/31/rotation = Quaternion(-0.687356, 0.457439, -0.451833, -0.337843)
bones/32/position = Vector3(9.85585e-06, 12.5026, -2.65555e-06)
bones/32/rotation = Quaternion(0.331331, 0.187703, -0.371079, 0.846929)
bones/33/position = Vector3(-5.81865e-06, 27.687, -3.0191e-06)
bones/33/rotation = Quaternion(0.00395409, 0.0208883, -0.697328, 0.716437)
bones/34/position = Vector3(-8.07625e-06, 27.8738, 5.4478e-06)
bones/34/rotation = Quaternion(0.155411, -0.544899, 0.217736, 0.794685)
bones/35/position = Vector3(2.31905, 2.57043, 1.2451)
bones/35/rotation = Quaternion(0.221533, -0.305828, -0.283063, 0.881628)
bones/36/position = Vector3(-2.98048e-07, 4.54275, -9.99855e-06)
bones/36/rotation = Quaternion(0.0947162, 0.129726, 0.0356385, 0.986372)
bones/37/position = Vector3(-2.26716e-05, 5.09329, -3.97872e-06)
bones/37/rotation = Quaternion(-2.11643e-06, -2.70448e-05, -4.39985e-07, 1)
bones/38/position = Vector3(-2.50844e-06, 2.65345, 1.41523e-06)
bones/39/position = Vector3(2.28734, 10.5773, 0.175373)
bones/39/rotation = Quaternion(0.120298, 0.0668086, 0.0110162, 0.990426)
bones/40/position = Vector3(-5.20459e-06, 5.3768, -2.59959e-06)
bones/40/rotation = Quaternion(0.539911, -0.000575098, 0.0208972, 0.841462)
bones/41/position = Vector3(3.41651e-07, 3.3855, 4.63894e-06)
bones/41/rotation = Quaternion(-8.61758e-07, -6.92572e-08, -4.84071e-08, 1)
bones/42/position = Vector3(3.88143e-06, 2.36355, -4.6782e-06)
bones/43/position = Vector3(-1.00446e-05, 10.7792, -7.57897e-06)
bones/43/rotation = Quaternion(0.195085, 0.0171949, 0.0196649, 0.980438)
bones/44/position = Vector3(7.94436e-06, 5.6168, 2.96139e-06)
bones/44/rotation = Quaternion(0.616262, 6.97095e-05, -0.0382259, 0.786613)
bones/45/position = Vector3(3.69431e-06, 3.73639, -7.0875e-07)
bones/45/rotation = Quaternion(4.70689e-07, -5.26471e-08, -9.80361e-08, 1)
bones/46/position = Vector3(-9.39573e-06, 2.69153, -2.22644e-06)
bones/47/position = Vector3(-2.34991, 10.3919, -0.105176)
bones/47/rotation = Quaternion(0.165461, -0.0028832, -0.00761626, 0.986183)
bones/48/position = Vector3(2.02511e-06, 5.40129, -1.35136e-05)
bones/48/rotation = Quaternion(0.563119, 0.00100824, -0.0615524, 0.82408)
bones/49/position = Vector3(-2.07724e-05, 3.39158, -5.86484e-06)
bones/49/rotation = Quaternion(-1.14825e-06, -3.93699e-07, -3.32657e-07, 1)
bones/50/position = Vector3(-1.83478e-05, 2.35318, 8.92417e-06)
bones/51/position = Vector3(-4.37836, 9.79101, 0.212912)
bones/51/rotation = Quaternion(0.119692, 0.0151713, -0.0777907, 0.989643)
bones/52/position = Vector3(-8.53317e-06, 3.65281, -1.69968e-06)
bones/52/rotation = Quaternion(0.581973, 8.46851e-05, -0.10086, 0.806929)
bones/53/position = Vector3(-1.49062e-06, 2.78199, 9.44905e-06)
bones/53/rotation = Quaternion(2.22444e-06, 4.18456e-07, 1.46408e-07, 1)
bones/54/position = Vector3(-4.6382e-06, 1.61212, 8.9684e-06)
bones/55/position = Vector3(9.6338, -3.27329, -6.9694e-06)
bones/55/rotation = Quaternion(0.294512, 0.283135, 0.912202, 0.031375)
bones/56/position = Vector3(-7.75526e-06, 41.7659, -3.9884e-06)
bones/56/rotation = Quaternion(-0.419905, -0.00212949, -0.0150416, 0.907441)
bones/57/position = Vector3(9.09964e-06, 39.1992, -3.9382e-06)
bones/57/rotation = Quaternion(0.3938, 0.104659, -0.0317146, 0.912668)
bones/58/position = Vector3(4.83691e-06, 14.7412, -5.17402e-06)
bones/58/rotation = Quaternion(0.47886, 0.0036003, 0.00551507, 0.877867)
bones/59/position = Vector3(-9.53896e-06, 10.3293, 8.78326e-06)
bones/60/position = Vector3(-9.6338, -3.27328, -2.53549e-06)
bones/60/rotation = Quaternion(-0.209707, 0.434176, 0.864165, 0.14399)
bones/61/position = Vector3(-7.49307e-07, 41.7658, -1.36275e-05)
bones/61/rotation = Quaternion(-0.780333, 0.00671875, 0.0308322, 0.624567)
bones/62/position = Vector3(2.30589e-05, 39.1992, 6.71932e-07)
bones/62/rotation = Quaternion(0.356193, -0.0421739, 0.118141, 0.925954)
bones/63/position = Vector3(-6.24556e-06, 14.7412, -1.55642e-05)
bones/63/rotation = Quaternion(0.469327, 0.0053828, 0.00571856, 0.88299)
bones/64/position = Vector3(-1.90759e-06, 10.3293, 1.4106e-05)

[node name="StateMachine" parent="." index="2" node_paths=PackedStringArray("initial_state")]
initial_state = NodePath("IdleState")

[node name="IdleState" type="Node" parent="StateMachine" index="0"]
script = ExtResource("3_3npd5")

[node name="MovementState" type="Node" parent="StateMachine" index="1"]
script = ExtResource("4_gfeqp")
decceleration = 5.0
turn_speed = 3.0

[node name="FallState" type="Node" parent="StateMachine" index="2"]
script = ExtResource("5_gjswa")
air_move_speed = 4.0
decceleration = 0.1
turn_speed = 1.0

[node name="JumpState" type="Node" parent="StateMachine" index="3"]
script = ExtResource("6_vlmxj")
jump_height = 3.5
air_move_speed = 2.5
acceleration = 3.0
decceleration = 0.1
turn_speed = 3.0

[node name="LedgeHangState" type="Node" parent="StateMachine" index="4"]
script = ExtResource("7_ysduw")

[node name="CollisionShape3D" type="CollisionShape3D" parent="." index="3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
shape = SubResource("CapsuleShape3D_0t56c")

[editable path="Visual/tom"]
