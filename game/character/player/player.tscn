[gd_scene load_steps=9 format=3 uid="uid://dfqcqf6cw5gkp"]

[ext_resource type="PackedScene" uid="uid://r0rsvd7xkcoh" path="res://game/character/body_base.tscn" id="1_heyne"]
[ext_resource type="PackedScene" uid="uid://dxqb4j2pu7rge" path="res://assets/models/characters/player/tom.glb" id="2_jibyx"]
[ext_resource type="Script" path="res://game/character/components/states/common/idle.gd" id="3_3npd5"]
[ext_resource type="Script" path="res://game/character/components/states/common/movement.gd" id="4_gfeqp"]
[ext_resource type="Script" path="res://game/character/components/states/common/fall.gd" id="5_gjswa"]
[ext_resource type="Script" path="res://game/character/components/states/common/jump.gd" id="6_vlmxj"]
[ext_resource type="Script" path="res://game/character/components/states/common/ledgeclimb.gd" id="7_ysduw"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_0t56c"]
radius = 0.3

[node name="Player" node_paths=PackedStringArray("anim_player") instance=ExtResource("1_heyne")]
anim_player = NodePath("Visual/tom/AnimationPlayer")
controller_Type = 0

[node name="Visual" parent="." index="0"]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 0, 0)

[node name="tom" parent="Visual" index="0" instance=ExtResource("2_jibyx")]

[node name="Skeleton3D" parent="Visual/tom/Armature" index="0"]
bones/0/position = Vector3(0.0252587, 0.0117533, -95.5713)
bones/0/rotation = Quaternion(-0.727853, -0.053159, 0.0126485, 0.683552)
bones/1/position = Vector3(4.81773e-06, 9.2263, 1.5771)
bones/1/rotation = Quaternion(0.0240215, 0.012649, 0.0216624, 0.999397)
bones/2/position = Vector3(2.45855e-07, 16.2548, 5.30625e-07)
bones/2/rotation = Quaternion(-0.0320373, 0.00211159, 0.0137086, 0.99939)
bones/3/position = Vector3(2.46024e-07, 13.7007, 3.26789e-06)
bones/3/rotation = Quaternion(-0.0947642, 0.000268033, 0.0139363, 0.995402)
bones/4/position = Vector3(2.56649e-07, 14.5445, -2.61918e-06)
bones/4/rotation = Quaternion(0.301548, -0.00106588, 0.00388362, 0.953443)
bones/5/position = Vector3(6.60035e-07, 4.43786, 6.81728e-06)
bones/5/rotation = Quaternion(-0.173546, 0.0117186, -0.00270028, 0.984752)
bones/6/position = Vector3(-4.39584e-07, 21.7493, 2.6822e-07)
bones/7/position = Vector3(6.1442, 10.8554, -0.569535)
bones/7/rotation = Quaternion(0.685909, 0.472561, -0.440061, 0.335501)
bones/8/position = Vector3(2.95114e-06, 12.4986, -2.76024e-05)
bones/8/rotation = Quaternion(0.520082, 0.170068, 0.176522, 0.818188)
bones/9/position = Vector3(-2.42546e-06, 27.687, 4.74991e-07)
bones/9/rotation = Quaternion(1.87603e-08, -1.70891e-07, 0.0127349, 0.999919)
bones/10/position = Vector3(6.41282e-07, 27.8738, 4.11706e-06)
bones/10/rotation = Quaternion(0.0483048, -0.284894, 0.0268247, 0.956965)
bones/11/position = Vector3(-1.87649, 2.28439, 1.20811)
bones/11/rotation = Quaternion(0.21096, -0.0646263, 0.206386, 0.95327)
bones/12/position = Vector3(3.88681e-06, 4.94882, 1.31992e-05)
bones/12/rotation = Quaternion(-0.14399, 0.0916745, -0.239773, 0.955705)
bones/13/position = Vector3(4.17225e-07, 5.1787, 4.99571e-06)
bones/13/rotation = Quaternion(-0.121024, -0.0755413, 0.0240554, 0.989479)
bones/14/position = Vector3(1.096e-05, 2.70565, 1.55624e-05)
bones/15/position = Vector3(-2.26485, 10.5148, 0.231351)
bones/15/rotation = Quaternion(0.0662168, 0.000733158, 0.0084306, 0.997769)
bones/16/position = Vector3(-1.27542e-06, 5.54931, 3.64803e-07)
bones/16/rotation = Quaternion(0.150998, -5.3001e-08, -0.015475, 0.988413)
bones/17/position = Vector3(-4.25485e-07, 3.3911, 4.22545e-07)
bones/17/rotation = Quaternion(0.0700819, 7.96514e-08, -0.00718227, 0.997515)
bones/18/position = Vector3(-9.13976e-06, 2.33435, 2.1534e-06)
bones/19/position = Vector3(-1.28279e-06, 10.4908, -1.60404e-07)
bones/19/rotation = Quaternion(0.136531, -0.00383597, -0.0229535, 0.990362)
bones/20/position = Vector3(-2.64542e-07, 5.79211, -1.08579e-06)
bones/20/rotation = Quaternion(0.151255, -2.66547e-07, -0.0155014, 0.988373)
bones/21/position = Vector3(-4.34835e-07, 3.71319, 3.99735e-06)
bones/21/rotation = Quaternion(0.159928, 2.97469e-07, -0.0163905, 0.986993)
bones/22/position = Vector3(-1.96813e-05, 2.75205, 1.29808e-05)
bones/23/position = Vector3(2.31415, 10.2407, 0.0460359)
bones/23/rotation = Quaternion(0.183251, -0.00465308, -0.0314567, 0.982552)
bones/24/position = Vector3(1.49021e-07, 5.44519, 2.71352e-06)
bones/24/rotation = Quaternion(0.181387, -6.91457e-08, -0.0185894, 0.983236)
bones/25/position = Vector3(-1.46496e-07, 3.7132, -3.11763e-06)
bones/25/rotation = Quaternion(0.155213, 2.37603e-07, -0.0159067, 0.987753)
bones/26/position = Vector3(6.80424e-07, 2.28072, 9.56515e-06)
bones/27/position = Vector3(4.41847, 9.82026, 0.209732)
bones/27/rotation = Quaternion(0.233867, -0.00350564, -0.0490106, 0.971026)
bones/28/position = Vector3(-1.04601e-06, 3.6763, -4.60788e-06)
bones/28/rotation = Quaternion(0.151258, 3.22966e-07, -0.0155015, 0.988373)
bones/29/position = Vector3(5.70702e-07, 2.81129, -3.56681e-06)
bones/29/rotation = Quaternion(0.143497, 4.92936e-07, -0.014706, 0.989541)
bones/30/position = Vector3(-9.29477e-07, 1.65954, 4.58416e-06)
bones/31/position = Vector3(-6.1402, 10.8554, -0.569529)
bones/31/rotation = Quaternion(-0.683831, 0.4745, -0.457128, -0.313462)
bones/32/position = Vector3(4.52692e-06, 12.5026, 1.26241e-05)
bones/32/rotation = Quaternion(0.44257, -0.252157, -0.202438, 0.836401)
bones/33/position = Vector3(-1.05028e-06, 27.687, 3.65661e-06)
bones/33/rotation = Quaternion(6.07679e-07, 1.90584e-07, -0.0583806, 0.998294)
bones/34/position = Vector3(-2.89065e-06, 27.8738, -6.02586e-09)
bones/34/rotation = Quaternion(0.0590256, 0.175146, -0.00595384, 0.982754)
bones/35/position = Vector3(2.31905, 2.57043, 1.2451)
bones/35/rotation = Quaternion(0.213788, 0.0653689, -0.225646, 0.948212)
bones/36/position = Vector3(-3.15907e-06, 4.54273, -3.62085e-06)
bones/36/rotation = Quaternion(-0.144102, -0.0761697, 0.277207, 0.946884)
bones/37/position = Vector3(-1.16215e-05, 5.09327, -2.15369e-05)
bones/37/rotation = Quaternion(-0.155203, 0.0746523, -0.0260427, 0.984714)
bones/38/position = Vector3(-1.59197e-06, 2.65346, 1.44742e-05)
bones/39/position = Vector3(2.28735, 10.5773, 0.175367)
bones/39/rotation = Quaternion(0.0595131, -0.000991255, -0.0109752, 0.998167)
bones/40/position = Vector3(4.0619e-08, 5.3768, -1.04987e-06)
bones/40/rotation = Quaternion(0.151287, -4.95265e-08, 0.0123261, 0.988413)
bones/41/position = Vector3(1.65274e-06, 3.38549, 3.48965e-07)
bones/41/rotation = Quaternion(0.0702155, -1.30841e-07, 0.00572082, 0.997515)
bones/42/position = Vector3(3.21846e-06, 2.36355, 4.83818e-07)
bones/43/position = Vector3(2.38294e-06, 10.7792, 2.14341e-07)
bones/43/rotation = Quaternion(0.130515, 0.00368972, 0.0189238, 0.991259)
bones/44/position = Vector3(1.36149e-07, 5.6168, -8.98008e-07)
bones/44/rotation = Quaternion(0.151545, 9.78792e-08, 0.0123471, 0.988373)
bones/45/position = Vector3(5.32322e-08, 3.7364, -3.38827e-06)
bones/45/rotation = Quaternion(0.16024, 2.01694e-08, 0.0130554, 0.986992)
bones/46/position = Vector3(1.29396e-07, 2.69153, 2.18933e-06)
bones/47/position = Vector3(-2.34989, 10.3919, -0.105167)
bones/47/rotation = Quaternion(0.177452, 0.00450168, 0.026461, 0.983763)
bones/48/position = Vector3(1.1776e-07, 5.40129, 1.74521e-06)
bones/48/rotation = Quaternion(0.181735, 1.63392e-08, 0.0148069, 0.983236)
bones/49/position = Vector3(-9.8403e-07, 3.3916, -4.6761e-06)
bones/49/rotation = Quaternion(0.155509, -3.82452e-07, 0.0126698, 0.987753)
bones/50/position = Vector3(9.87377e-07, 2.35318, 3.53058e-06)
bones/51/position = Vector3(-4.37834, 9.79102, 0.21292)
bones/51/rotation = Quaternion(0.228493, 0.00340279, 0.0429834, 0.97259)
bones/52/position = Vector3(7.65156e-07, 3.65281, -1.61027e-06)
bones/52/rotation = Quaternion(0.151548, -6.77263e-09, 0.0123473, 0.988373)
bones/53/position = Vector3(2.32407e-06, 2.782, 1.69982e-06)
bones/53/rotation = Quaternion(0.143775, 4.45466e-07, 0.0117139, 0.989541)
bones/54/position = Vector3(-4.15217e-06, 1.61212, 1.02272e-05)
bones/55/position = Vector3(9.6338, -3.27331, 5.85442e-07)
bones/55/rotation = Quaternion(0.135878, 0.0762779, 0.984817, -0.0765128)
bones/56/position = Vector3(1.21959e-07, 41.7658, -1.43685e-06)
bones/56/rotation = Quaternion(-0.135622, -0.014312, 0.0381564, 0.989922)
bones/57/position = Vector3(1.24128e-06, 39.1992, -2.21195e-06)
bones/57/rotation = Quaternion(0.315062, -0.0208897, -0.0675334, 0.946435)
bones/58/position = Vector3(7.9918e-07, 14.7412, -1.93097e-08)
bones/58/rotation = Quaternion(0.505586, 0.00314352, 0.00536428, 0.862754)
bones/59/position = Vector3(-2.11297e-07, 10.3293, -2.95886e-06)
bones/60/position = Vector3(-9.6338, -3.27329, 6.01165e-07)
bones/60/rotation = Quaternion(-0.0901603, -0.0211927, 0.995272, -0.0292379)
bones/61/position = Vector3(-8.11331e-08, 41.7659, 3.94475e-07)
bones/61/rotation = Quaternion(-0.0711402, 0.0843227, -0.0298037, 0.993449)
bones/62/position = Vector3(7.34681e-07, 39.1992, -2.17526e-07)
bones/62/rotation = Quaternion(0.346792, 0.0224901, 0.0171734, 0.937515)
bones/63/position = Vector3(-1.82447e-08, 14.7412, 3.07983e-07)
bones/63/rotation = Quaternion(0.523204, 0.00325309, 0.00529865, 0.852185)
bones/64/position = Vector3(-1.08727e-06, 10.3293, 2.77676e-07)

[node name="StateMachine" parent="." index="2" node_paths=PackedStringArray("initial_state")]
initial_state = NodePath("IdleState")

[node name="IdleState" type="Node" parent="StateMachine" index="0"]
script = ExtResource("3_3npd5")

[node name="MovementState" type="Node" parent="StateMachine" index="1"]
script = ExtResource("4_gfeqp")
move_speed = 3.0
decceleration = 10.0

[node name="FallState" type="Node" parent="StateMachine" index="2"]
script = ExtResource("5_gjswa")
air_move_speed = 5.0
acceleration = 3.0

[node name="JumpState" type="Node" parent="StateMachine" index="3"]
script = ExtResource("6_vlmxj")
jump_height = 3.5
air_move_speed = 6.0
acceleration = 4.0

[node name="LedgeClimbState" type="Node" parent="StateMachine" index="4"]
script = ExtResource("7_ysduw")

[node name="CollisionShape3D" type="CollisionShape3D" parent="." index="3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
shape = SubResource("CapsuleShape3D_0t56c")

[editable path="Visual/tom"]
